!function(e){e(document).ready(function(){function t(e,t){var a=e,n=a.find("input:checkbox"),i=!(void 0==t||""==t||0==t.length),s=i&&"on"==t?"dr-input-switch-state-on":"dr-input-switch-state-off",r=i&&"on"==t?"dr-input-switch-state-off":"dr-input-switch-state-on";i?(a.removeClass(r).addClass(s),"on"==t?(n.prop("checked",!0),n.attr("checked","checked")):(n.prop("checked",!1),n.removeAttr("checked"))):(a.toggleClass("dr-input-switch-state-on dr-input-switch-state-off"),n.is(":checked")?(n.prop("checked",!1),n.removeAttr("checked")):(n.prop("checked",!0),n.attr("checked","checked"))),n.trigger("change")}function a(a,n){a.parents(".dr-aspage-panel-group").find(".dr-input-switch").each(function(){t(e(this),n)})}function n(t){"save"==t?e("#dr-aspage-input-action").val(diviroids_admin_settings.action_save):e("#dr-aspage-input-action").val(diviroids_admin_settings.action_reset);var a=e("#dr-aspage-form").formSerialize(),n=e("#dr-action-panel-save");a+="&_ajax_nonce="+diviroids_admin_settings.settings_nonce,e.ajax({type:"POST",url:ajaxurl,data:a,beforeSend:function(e){dr_modal_save_show(n),dr_modal_save_state_saving(n)},success:function(e){dr_modal_save_state_saved(n),"reset"==t?window.location.reload():setTimeout(function(){dr_modal_save_hide(n)},400)},error:function(e){console.log("failed"),dr_modal_save_hide(n)}})}var i=e(".dr-input-switch"),s=e(".dr-input-switches-all"),r=e(".dr-input-switches-none"),o=e(".dr-aspage-tabs-panel-container"),d=e("#dr-action-panel-confirm");o.tabs({show:"fadeIn",hide:"fadeOut"}),i.length&&i.each(function(){var a=e(this);a.on("click",function(e){e.preventDefault(),t(a)})}),s.length&&s.each(function(){var t=e(this);t.on("click",function(e){e.preventDefault(),a(t,"on")})}),r.length&&r.each(function(){var t=e(this);t.on("click",function(e){e.preventDefault(),a(t,"off")})}),e("#diviroids-settings-csmr-status").on("change",function(t){t.preventDefault();var a=(e(this),e("#diviroids-settings-csmr-mode")),n=a.parents(".dr-aspage-panel-group"),i=e("#panel-group-diviroids-settings-csmr-bypass-roles"),s=e("#panel-group-diviroids-settings-csmr-bypass-pages");n.fadeToggle(),a.val("").trigger("change"),i.fadeToggle(),s.fadeToggle()}),e("#diviroids-settings-csmr-mode").on("change",function(t){t.preventDefault();var a=e(this),n=e("#diviroids-settings-csmr-layout"),i=n.parents(".dr-aspage-panel-group"),s=e("#diviroids-settings-csmr-redirect"),r=s.parents(".dr-aspage-panel-group");switch(s.val("").trigger("change"),n.val("").trigger("change"),a.val()){case"coming_soon":case"maintenance":r.fadeOut(),i.fadeIn();break;case"redirect":i.fadeOut(),r.fadeIn();break;default:i.fadeOut(),r.fadeOut()}}),e("#diviroids-settings-404-layout").on("change",function(t){t.preventDefault();var a=e(this),n=e("#diviroids-settings-404-template"),i=n.parents(".dr-aspage-panel-group");""==a.val()?i.fadeOut():i.fadeIn()}),e("#dr-aspage-button-save").on("click",function(e){return e.preventDefault(),n("save"),!1}),e("#dr-aspage-link-save").on("click",function(e){return e.preventDefault(),n("save"),!1}),e("#dr-aspage-link-reset").on("click",function(e){return e.preventDefault(),d.addClass("dr-modal-show"),!1}),e(".dr-modal-action-yes").on("click",function(e){return e.preventDefault(),d.removeClass("dr-modal-show"),n("reset"),!1}),e(".dr-modal-action-no").on("click",function(e){return e.preventDefault(),d.removeClass("dr-modal-show"),!1})})}(jQuery);