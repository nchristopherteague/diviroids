!function(t){function e(t){var e="",i="",s={lowerLetter:"abcdefghijklmnopqrstuvwxyz0123456789",upperLetter:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",symbol:",.?/\\(^)![]{}*&^%$#'\"",numeric:"0123456789"};i=s.lowerLetter+s.upperLetter+s.symbol+s.numeric,e="lowerLetter"==t?s.lowerLetter:"upperLetter"==t?s.upperLetter:"symbol"==t?s.symbol:"numeric"==t?s.numeric:i;var h=e.split("");return h[Math.floor(Math.random()*h.length)]}t.drShuffler=function(e,i){this.item=t(e),this.init(i)},t.drShuffler.prototype={init:function(e){this.options=t.extend({},{steps:8,fps:25,backspaceSpeed:0,backspaceDelay:0,loop:!1,autoPlay:!1},e),this.word=this.item.text().trim(),this.words=this.word.split(""),this.currentText="",this.complete=!1,this.backspacing=!1,this.timeout=null,this.timeoutSpeed=null,this.loopNumber=0,this.types=[],this.letters=[];for(var i=0;i<this.words.length;i++){var s=this.words[i];" "!=s?(/[a-z]/.test(s)?this.types[i]="lowerLetter":/[A-Z]/.test(s)?this.types[i]="upperLetter":this.types[i]="numeric",this.letters.push(i)):this.types[i]="space"}this.item.html(""),this.options.autoPlay&&this.start()},start:function(){this.loopNumber=0,this.currentText="",this.complete=!1,this.backspacing=!1,this.timeoutSpeed=this.options.typeSpeed,this.item.html(""),this.shuffle()},shuffle:function(){if(!this.complete){if(this.backspacing)this.timeoutSpeed=this.options.backspaceSpeed,this.currentText=this.word.substring(0,this.currentText.length-1),""===this.currentText&&(this.backspacing=!1,this.options.loop?this.timeoutSpeed=this.options.typeSpeed:this.complete=!0);else{this.timeoutSpeed=1e3/this.options.fps;var i,s=this.words.slice(0);for(i=Math.max(this.loopNumber,0);i<this.letters.length;i++)i<this.loopNumber+this.options.steps?s[this.letters[i]]=e(this.types[this.letters[i]]):s[this.letters[i]]="";this.currentText=s.join(""),this.loopNumber++,this.currentText==this.word&&(this.timeoutSpeed=this.options.backspaceDelay,this.backspacing=!0,this.loopNumber=0)}this.item.html(this.currentText),this.timeout=setTimeout(t.proxy(function(){this.shuffle()},this),this.timeoutSpeed)}},stop:function(){this.loopNumber=0,this.currentText="",this.complete=!0,clearTimeout(this.timeout),this.timeout=null,this.timeoutSpeed=0,this.item.html("")}},t.fn.drShuffler=function(e){var i=this.data("drShuffler");return void 0===i&&(i=new t.drShuffler(this,e),this.data("drShuffler",i)),i}}(jQuery);