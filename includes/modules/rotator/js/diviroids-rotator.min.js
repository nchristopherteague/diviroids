!function(t){t.drRotator=function(e,i){this.item=t(e),this.init(i),this.initItems(),!1===this.options.delayFirst&&this.next(),this.start()},t.drRotator.prototype={init:function(e){this.options=t.extend({},{delay:1e3,delayFirst:!1,loop:!1,container:null,items:null,currentItemClassName:""},e),this.options.loop=!!JSON.parse(String(this.options.loop).toLowerCase()),this.options.delayFirst=!!JSON.parse(String(this.options.delayFirst).toLowerCase()),this.items=this.options.items,this.itemsCount=this.items.length,this.currentIndex=-1,this.currentItem=null,this.complete=!1,this.pause=!1,this.timeout=null},initItems:function(){this.items.each(function(){var e=t(this).data("options");switch(e.type){case"animate":var i=t.extend({},{effect:null,delay:0,duration:null,loop:null,text_sequential:""},e);t(this).drAnimator(i);break;case"typing":var s=t.extend({},{typeSpeed:0,backspaceSpeed:0,backspaceDelay:0},e);t(this).drTypewriter(s);break;case"shuffle":var r=t.extend({},{steps:0,fps:0},e);t(this).drShuffler(r)}})},start:function(){if(!this.complete&&!this.pause)return this.itemsCount<1?void(this.complete=!0):!1===this.options.loop&&this.currentIndex==this.itemsCount-1?(this.complete=!0,void clearTimeout(this.timeout)):!0===this.options.loop&&1==this.itemsCount&&this.currentIndex==this.itemsCount-1?(this.complete=!0,void clearTimeout(this.timeout)):void(this.timeout=setTimeout(t.proxy(function(){this.next(),this.start()},this),this.options.delay))},stop:function(){this.complete=!0,this.pause=!1,clearTimeout(this.timeout)},next:function(){null!==this.currentItem&&this.destroyItem(),this.currentIndex=this.currentIndex<this.itemsCount-1?this.currentIndex+1:0,this.currentItem=this.items.eq(this.currentIndex),this.createItem()},createItem:function(){switch(this.currentItem.addClass(this.options.currentItemClassName),this.currentItem.data("options").type){case"animate":this.currentItem.drAnimator().start();break;case"typing":this.currentItem.drTypewriter().start();break;case"shuffle":this.currentItem.drShuffler().start()}},destroyItem:function(){switch(this.currentItem.data("options").type){case"animate":this.currentItem.drAnimator().stop();break;case"typing":this.currentItem.drTypewriter().stop();break;case"shuffle":this.currentItem.drShuffler().stop()}this.currentItem.removeClass(this.options.currentItemClassName)}},t.fn.drRotator=function(e){var i=this.data("drRotator");return void 0===i&&(i=new t.drRotator(this,e),this.data("drRotator",i)),i}}(jQuery);